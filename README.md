# flang-bot

이 저장소는 간단한 디스코드 봇 예제입니다. 봇은 `/인사`, `/가입`, `/꿀단지` 세 가지 명령을 제공합니다.
`/인사`는 인사 메시지를 반환하고, `/가입`은 명령을 실행한 사용자의 정보를 SQLite 데이터베이스에 저장합니다. 저장되는 정보에는 아이디와 사용자 이름은 물론 프로필 이미지 URL과 명령을 실행한 서버에서의 닉네임도 포함됩니다. `/꿀단지` 명령을 사용하면 저장된 자신의 이름과 포인트인 **허니**를 확인하고 프로필 이미지를 임베드의 왼쪽에 표시합니다.

## 사용 방법

1. 필요한 라이브러리를 설치합니다:
   ```bash
   pip install -r requirements.txt
   ```

2. 루트 디렉터리에 `.env` 파일을 만들고 다음과 같이 봇 토큰을 설정합니다:
   ```env
   DISCORD_TOKEN=여러분의봇토큰
   ```
   혹은 `DISCORD_TOKEN` 환경 변수를 직접 설정해도 됩니다.

3. `bot.py`를 실행하여 봇을 시작합니다:
   ```bash
   python bot.py
   ```

사용자 정보는 같은 디렉터리에 생성되는 `users.db` SQLite 파일에 저장됩니다.

봇이 온라인 상태가 되면 Discord 서버에서 `/인사` 혹은 `/가입`을 실행하여 동작을 확인할 수 있습니다.

텍스트 채팅을 작성하면 1 허니가 적립되고, 음성 채널에 접속해 있는 사용자는 60초에 한 번씩 0.5 허니가 자동으로 추가됩니다.

## 예제: 허니 적립

`honey_counter.py` 파일에는 텍스트 채팅 시 1 허니, 음성 채팅 시 0.5 허니를 적립하고 소수점 첫째 자리까지만 표시하는 간단한 예제가 담겨 있습니다.

```python
from honey_counter import User

user = User()
user.add_text_chat()
user.add_voice_chat()
print(user.get_honey_str())  # '1.5'
```
